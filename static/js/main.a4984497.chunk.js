(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n(225)},106:function(e,t,n){},223:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var o=n(1),l=n.n(o),a=n(14),r=n.n(a),c=(n(106),n(30)),i=n(31),u=n(34),s=n(32),m=n(33),d=n(22),p=n(3),f=n(99),k=n(15),g=n(84),b=(n(210),function(e){return l.a.createElement("div",{className:"toolbar"},e.children)}),y=n(8),v=n.n(y),h=n(85),E=n(86),w=n(87),B=n(88),C=n(89),O=n(90),D=(n(221),n(91)),N=n(92),L=n(93),S=n(94),j=n(56),F=n(95),J=n(96);function I(){var e=Object(F.a)(["\n  display: block;\n  max-width: 100%;\n  max-height: 20em;\n  box-shadow: ",";\n"]);return I=function(){return e},e}var x=Object(J.a)("img")(I(),function(e){return e.selected?"0 0 0 2px blue;":"none"}),P=function(e){return l.a.createElement("strong",null,e.children)},M=function(e){return l.a.createElement("em",{property:"italic"},e.children)},K=function(e){return l.a.createElement("u",{property:"underline"},e.children)},T=function(e){return l.a.createElement("code",{property:"code"},e.children)},_={document:{last:{type:"paragraph"},normalize:function(e,t){var n=t.code,o=t.node;t.child;if("last_child_type_invalid"===n){var l=p.a.create("paragraph");return e.insertNodeByKey(o.key,o.nodes.size,l)}}},blocks:{image:{isVoid:!0},file:{isVoid:!0}}},R=function(e,t,n){n&&(e.select(n),console.log("Target selected")),e.insertBlock({type:"image",data:{src:t}}).moveFocusToEndOfDocument()},A=function(e,t,n,o){o&&(e.select(o),console.log("Target selected")),e.insertBlock({type:"file",data:{src:t,name:n}}).moveFocusToEndOfDocument()},U=function(e,t){var n=new FileReader;["image/gif","image/jpeg","image/jpg","image/png"].includes(e.type)?(console.log("This is image type file."),n.addEventListener("load",function(){t.command(R,n.result)}),n.readAsDataURL(e)):["text/plain","application/pdf"].includes(e.type)?(console.log("This is document type file."),n.addEventListener("load",function(){t.command(A,n.result,e.name)}),n.readAsDataURL(e)):alert("Invalid file type.")},W=function(e,t){console.log("Download started...");var n=document.createElement("a");n.download=e,n.href=t.toString(),document.body.appendChild(n),n.click(),document.body.removeChild(n)},H=function(e,t){return e.blocks.some(function(e){return e.type===t})},q=function(e){return H(e,"list-item")},z=function(e){var t=e.document;return e.blocks.some(function(e){return!!t.getClosest(e.key,function(e){return"numbered-list"===e.type})})},V=function(e){var t=e.document;return e.blocks.some(function(e){return!!t.getClosest(e.key,function(e){return"bulleted-list"===e.type})})},Y=function(e){var t=e.value,n=!1;t.document.nodes.forEach(function(e){console.log("Blocks: "),console.log(e.type),console.log(e.key),"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 1 Blocks: "),console.log(e.type),console.log(e.key),n=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 2 Blocks: "),console.log(e.type),console.log(e.key),n=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||(console.log("Level 3 Blocks: "),console.log(e.type),console.log(e.key),n=!0)})})}),q(t)&&z(t)&&!n?e.wrapBlock("numbered-list"):q(t)&&V(t)&&!n&&e.wrapBlock("bulleted-list")},$=function(e){var t=!1;return e.document.nodes.forEach(function(e){console.log("Blocks: "),console.log(e.type),console.log(e.key),"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 1 Blocks: "),console.log(e.type),console.log(e.key),t=!0,"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 2 Blocks: "),console.log(e.type),console.log(e.key),t=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||(console.log("Level 3 Blocks: "),console.log(e.type),console.log(e.key),t=!1)})})}),t},G=function(e){var t=e.value;q(t)&&z(t)?$(t)?e.setBlocks("paragraph").unwrapBlock("list-item").unwrapBlock("numbered-list"):e.unwrapBlock("list-item").unwrapBlock("numbered-list"):q(t)&&V(t)&&($(t)?e.setBlocks("paragraph").unwrapBlock("list-item").unwrapBlock("bulleted-list"):e.unwrapBlock("list-item").unwrapBlock("bulleted-list"))},Q=function(e){var t=e.value;if(q(t)&&(z(t)||V(t))){var n=JSON.parse(JSON.stringify(t.blocks.toJSON()));console.log(JSON.stringify(n[0].nodes[0].leaves[0].text)),""===n[0].nodes[0].leaves[0].text&&(q(t)&&z(t)?$(t)&&e.setBlocks("paragraph").unwrapBlock("list-item").unwrapBlock("numbered-list"):q(t)&&V(t)&&$(t)&&e.setBlocks("paragraph").unwrapBlock("list-item").unwrapBlock("bulleted-list"))}},X=function(e,t){var n=e.value,o=n.document;if("bulleted-list"!==t&&"numbered-list"!==t){var l=H(n,t);H(n,"list-item")?e.setBlocks(l?"paragraph":t).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):e.setBlocks(l?"paragraph":t)}else{var a=H(n,"list-item"),r=n.blocks.some(function(e){return!!o.getClosest(e.key,function(e){return e.type===t})});a&&r?e.setBlocks("paragraph").unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):a?e.unwrapBlock("bulleted-list"===t?"numbered-list":"bulleted-list").wrapBlock(t):e.setBlocks("list-item").wrapBlock(t)}},Z=Object(k.isKeyHotkey)("tab"),ee=Object(k.isKeyHotkey)("shift+tab"),te=Object(k.isKeyHotkey)("return"),ne=JSON.parse(localStorage.getItem("content")),oe=p.m.fromJSON(ne||{document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:""}]}]}]}});function le(e){var t=e.type,n=e.key;return{onKeyDown:function(e,o,l){if(!e.ctrlKey||e.key!==n)return l();e.preventDefault(),o.toggleMark(t)}}}var ae=[le({key:"b",type:"bold"}),le({key:"i",type:"italic"}),le({key:"u",type:"underline"}),le({key:"`",type:"code"})];var re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).onDocumentFileClick=function(e,t,n){e.preventDefault(),Object(g.confirmAlert)({title:"Are you sure?",message:"Want to download "+t,buttons:[{label:"Yes",onClick:function(){W(t,n)}},{label:"No"}]})},n.onChangeInputOfTopLevelBlockLimit=function(e){n.setState({topLevelBlockLimit:e.target.value})},n.onSaveClick=function(e){e.preventDefault(),function(e,t){if("undefined"!==typeof Storage){var n=JSON.stringify(e.toJSON());if(console.log("Content ",n),JSON.parse(n).document.nodes.length>t&&"0"!=t)return void alert("Can not save due crossed the limit of blocks \nYou set the limit is "+t);localStorage.setItem("content",n)}else console.log("Sorry, your browser does not support Web Storage...")}(n.state.value,n.state.topLevelBlockLimit)},n.onCancelClick=function(e){e.preventDefault(),n.setState({value:oe})},n.onMarkClick=function(e,t){e.preventDefault();var o=n.editor.toggleMark(t);n.onChange(o)},n.onBlockClick=function(e,t){e.preventDefault();var o=Object(d.a)(Object(d.a)(n)).editor;X(o,t)},n.onImageClick=function(e){e.preventDefault();var t=window.prompt("Enter the URL of the image:");t&&n.editor.command(R,t)},n.onOpenImage=function(e){e.preventDefault(),n.inputImageFile.current.click()},n.onOpenFile=function(e){e.preventDefault(),n.inputFile.current.click()},n.onFileSelect=function(e){e.preventDefault();var t=e.target.files[0];U(t,n.editor)},n.ref=function(e){n.editor=e},n.onChange=function(e){var t=e.value;console.log("onChange value: ",JSON.stringify(t.toJSON())),console.log("onChange current cursor on: ",JSON.stringify(t.blocks.toJSON())),n.setState({value:t})},n.onKeyDown=function(e,t,n){return Z(e)?(Y(t),e.preventDefault()):ee(e)?(G(t),e.preventDefault()):te(e)&&(Q(t),e.preventDefault()),n()},n.renderMark=function(e,t,n){switch(e.mark.type){case"bold":return l.a.createElement(P,e);case"italic":return l.a.createElement(M,e);case"underline":return l.a.createElement(K,e);case"code":return l.a.createElement(T,e);default:return n()}},n.renderNode=function(e,t,o){var a=e.attributes,r=e.children,c=e.node,i=e.isFocused;switch(c.type){case"heading-one":return l.a.createElement("h1",a,r);case"heading-two":return l.a.createElement("h2",a,r);case"block-quote":return l.a.createElement("blockquote",a,r);case"list-item":return l.a.createElement("li",a,r);case"numbered-list":return l.a.createElement("ol",a,r);case"bulleted-list":return l.a.createElement("ul",a,r);case"image":var u=c.data.get("src");return l.a.createElement(x,{src:u,selected:i,alt:"",className:"image-node"});case"file":var s=c.data.get("src"),m=c.data.get("name");return l.a.createElement("a",{download:m,href:s},l.a.createElement("span",{onClick:function(e){return n.onDocumentFileClick(e,m,s)}},l.a.createElement(v.a,{icon:j.file})," ",m));default:return o()}},n.state={value:oe,topLevelBlockLimit:0},n.inputImageFile=l.a.createRef(),n.inputFile=l.a.createRef(),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=JSON.stringify(this.state.value.toJSON()),n=JSON.parse(t);return l.a.createElement(o.Fragment,null,l.a.createElement(b,null,l.a.createElement("span",null,"Enter the limit of blocks "),l.a.createElement("input",{name:"topLevelBlockLimit",type:"number",value:0===this.state.topLevelBlockLimit?0:this.state.topLevelBlockLimit,onChange:this.onChangeInputOfTopLevelBlockLimit})),l.a.createElement(b,null,l.a.createElement("button",{className:"button",disabled:n.document.nodes.length>this.state.topLevelBlockLimit&&0!=this.state.topLevelBlockLimit,onPointerDown:function(t){return e.onSaveClick(t)}},"Save"),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onCancelClick(t)}},"Cancel"),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"bold")}},l.a.createElement(v.a,{icon:h.bold})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"italic")}},l.a.createElement(v.a,{icon:E.italic})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"underline")}},l.a.createElement(v.a,{icon:w.underline})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"code")}},l.a.createElement(v.a,{icon:B.code})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"heading-one")}},l.a.createElement(v.a,{icon:C.ic_looks_one})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"heading-two")}},l.a.createElement(v.a,{icon:O.ic_looks_two})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"numbered-list")}},l.a.createElement(v.a,{icon:D.listOl})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"bulleted-list")}},l.a.createElement(v.a,{icon:N.listUl})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onImageClick(t)}},l.a.createElement(v.a,{icon:L.image})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onOpenImage(t)}},l.a.createElement(v.a,{icon:S.fileImageO})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onOpenFile(t)}},l.a.createElement(v.a,{icon:j.file}))),l.a.createElement("div",null,l.a.createElement("input",{ref:this.inputImageFile,type:"file",style:{display:"none"},onChange:this.onFileSelect,accept:"image/*"}),l.a.createElement("input",{ref:this.inputFile,type:"file",style:{display:"none"},onChange:this.onFileSelect,accept:"application/pdf,text/plain"})),l.a.createElement(f.a,{spellCheck:!0,autoFocus:!0,tabIndex:-1,placeholder:"Enter text here...",plugins:ae,schema:_,value:this.state.value,ref:this.ref,onChange:this.onChange,onKeyDown:this.onKeyDown,renderMark:this.renderMark,renderNode:this.renderNode}))}},{key:"componentDidMount",value:function(){this.editor.focus()}}]),t}(o.Component),ce=(n(223),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(re,null))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(224);r.a.render(l.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[101,1,2]]]);
//# sourceMappingURL=main.a4984497.chunk.js.map
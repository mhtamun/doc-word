(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n(224)},106:function(e,t,n){},222:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var o=n(1),l=n.n(o),a=n(14),c=n.n(a),r=(n(106),n(30)),i=n(31),s=n(34),u=n(32),m=n(33),d=n(22),p=n(3),k=n(17),f=n(81),b=(n(204),function(e){return l.a.createElement("div",{className:"toolbar"},e.children)}),g=n(8),y=n.n(g),v=n(82),h=n(83),E=n(84),w=n(85),B=n(86),C=n(87),D=n(88),L=n(89),O=n(90),N=n(91),j=n(92),S=n(99),I=n(95),P=n(96);function M(){var e=Object(I.a)(["\n  display: block;\n  max-width: 100%;\n  max-height: 20em;\n  box-shadow: ",";\n"]);return M=function(){return e},e}var x=Object(P.a)("img")(M(),function(e){return e.selected?"0 0 0 2px blue;":"none"}),F=function(e){return l.a.createElement("strong",null,e.children)},J=function(e){return l.a.createElement("em",{property:"italic"},e.children)},K=function(e){return l.a.createElement("u",{property:"underline"},e.children)},A=function(e){return l.a.createElement("code",{property:"code"},e.children)},U="paragraph",q=Object(k.isKeyHotkey)("tab"),R=Object(k.isKeyHotkey)("shift+tab"),T=JSON.parse(localStorage.getItem("content")),W=p.m.fromJSON(T||{document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:""}]}]}]}});function _(e){var t=e.type,n=e.key;return{onKeyDown:function(e,o,l){if(!e.ctrlKey||e.key!==n)return l();e.preventDefault(),o.toggleMark(t)}}}var z=[_({key:"b",type:"bold"}),_({key:"i",type:"italic"}),_({key:"u",type:"underline"}),_({key:"`",type:"code"})],H={document:{last:{type:"paragraph"},normalize:function(e,t){var n=t.code,o=t.node;t.child;switch(n){case"last_child_type_invalid":var l=p.a.create("paragraph");return e.insertNodeByKey(o.key,o.nodes.size,l)}}},blocks:{image:{isVoid:!0}}},Y=function(e,t,n){n&&e.select(n),e.insertBlock({type:"image",data:{src:t}}),e.focus()},V=function(e,t,n,o){o&&e.select(o),e.insertBlock({type:"document-file",data:{src:t,name:n}})},$=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).ref=function(e){n.editor=e},n.hasBlock=function(e){return n.state.value.blocks.some(function(t){return t.type===e})},n.onChangeInputOfTopLevelBlockLimit=function(e){console.log(e.target.name,e.target.value),n.setState({topLevelBlockLimit:e.target.value})},n.onChange=function(e){var t=e.value;console.log(JSON.stringify(t)),n.setState({value:t})},n.onKeyDown=function(e,t,o){var l=t.value,a=l.document,c=n.hasBlock("list-item");console.log("Is block list-item type? "+c);var r=l.blocks.some(function(e){return!!a.getClosest(e.key,function(e){return"numbered-list"===e.type})}),i=l.blocks.some(function(e){return!!a.getClosest(e.key,function(e){return"bulleted-list"===e.type})});if(console.log("Is parent block numbered-list type? "+r),console.log("Is parent block bulleted-list type? "+i),q(e)){var s=!1;l.document.nodes.forEach(function(e){console.log("Blocks: "),console.log(e.type),console.log(e.key),"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 1 Blocks: "),console.log(e.type),console.log(e.key),s=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 2 Blocks: "),console.log(e.type),console.log(e.key),s=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||(console.log("Level 3 Blocks: "),console.log(e.type),console.log(e.key),s=!0)})})}),l.blocks.forEach(function(e){console.log("Current cursor on: "),console.log(e.key)}),c&&r&&!s?t.wrapBlock("numbered-list"):c&&i&&!s&&t.wrapBlock("bulleted-list"),e.preventDefault()}else if(R(e)){var u=!1;l.document.nodes.forEach(function(e){console.log("Blocks: "),console.log(e.type),console.log(e.key),"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 1 Blocks: "),console.log(e.type),console.log(e.key),u=!0,"numbered-list"!==e.type&&"bulleted-list"!==e.type||e.nodes.forEach(function(e){console.log("Level 2 Blocks: "),console.log(e.type),console.log(e.key),u=!1,"numbered-list"!==e.type&&"bulleted-list"!==e.type||(console.log("Level 3 Blocks: "),console.log(e.type),console.log(e.key),u=!1)})})}),c&&r?u?t.setBlocks(U).unwrapBlock("list-item").unwrapBlock("numbered-list"):t.unwrapBlock("list-item").unwrapBlock("numbered-list"):c&&i&&(u?t.setBlocks(U).unwrapBlock("list-item").unwrapBlock("bulleted-list"):t.unwrapBlock("list-item").unwrapBlock("bulleted-list")),e.preventDefault()}return o()},n.onSaveClick=function(e){if(e.preventDefault(),console.log("onSaveClick"),"undefined"!==typeof Storage){var t=JSON.stringify(n.state.value.toJSON());if(console.log("Content ",t),JSON.parse(t).document.nodes.length>n.state.topLevelBlockLimit&&0!=n.state.topLevelBlockLimit)return void alert("Can not save due crossed the limit of blocks \nYou set the limit is "+n.state.topLevelBlockLimit);localStorage.setItem("content",t)}else console.log("Sorry, your browser does not support Web Storage...")},n.onCancelClick=function(e){e.preventDefault(),n.setState({value:W})},n.onMarkClick=function(e,t){e.preventDefault();var o=n.editor.toggleMark(t);n.onChange(o)},n.onBlockClick=function(e,t){e.preventDefault();var o=Object(d.a)(Object(d.a)(n)).editor,l=o.value,a=l.document;if("bulleted-list"!==t&&"numbered-list"!==t){var c=n.hasBlock(t);n.hasBlock("list-item")?o.setBlocks(c?U:t).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):o.setBlocks(c?U:t)}else{var r=n.hasBlock("list-item"),i=l.blocks.some(function(e){return!!a.getClosest(e.key,function(e){return e.type===t})});r&&i?o.setBlocks(U).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):r?o.unwrapBlock("bulleted-list"===t?"numbered-list":"bulleted-list").wrapBlock(t):o.setBlocks("list-item").wrapBlock(t)}},n.onImageClick=function(e){e.preventDefault();var t=window.prompt("Enter the URL of the image:");t&&n.editor.command(Y,t)},n.onFileSelect=function(e){e.preventDefault();var t=e.target.files[0];console.log("File ",t);var o=new FileReader;["image/gif","image/jpeg","image/jpg","image/png"].includes(t.type)?(console.log("This is image type file."),o.addEventListener("load",function(){n.editor.command(Y,o.result)}),o.readAsDataURL(t)):["text/plain","application/pdf"].includes(t.type)?(console.log("This is document type file."),o.addEventListener("load",function(){n.editor.command(V,o.result,t.name)}),o.readAsDataURL(t)):alert("Invalid file type.")},n.onDocumentFileClick=function(e,t,n){e.preventDefault(),Object(f.confirmAlert)({title:"Are you sure?",message:"Want to download "+t,buttons:[{label:"Yes",onClick:function(){console.log("Download started...");var e=document.createElement("a");e.download=t,e.href=n.toString(),document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{label:"No"}]})},n.renderMark=function(e,t,n){switch(e.mark.type){case"bold":return l.a.createElement(F,e);case"italic":return l.a.createElement(J,e);case"underline":return l.a.createElement(K,e);case"code":return l.a.createElement(A,e);default:return n()}},n.renderNode=function(e,t,o){var a=e.attributes,c=e.children,r=e.node,i=e.isFocused;switch(r.type){case"block-quote":return l.a.createElement("blockquote",a,c);case"heading-one":return l.a.createElement("h1",a,c);case"heading-two":return l.a.createElement("h2",a,c);case"list-item":return l.a.createElement("li",a,c);case"numbered-list":return l.a.createElement("ol",a,c);case"bulleted-list":return l.a.createElement("ul",a,c);case"image":var s=r.data.get("src");return l.a.createElement(x,Object.assign({src:s,selected:i},a));case"document-file":var u=r.data.get("src"),m=r.data.get("name");return l.a.createElement("span",{onClick:function(e){return n.onDocumentFileClick(e,m,u)}},l.a.createElement(y.a,{icon:j.file}),m);default:return o()}},n.state={value:W,topLevelBlockLimit:0},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(o.Fragment,null,l.a.createElement(b,null,l.a.createElement("span",null,"Enter the limit of blocks "),l.a.createElement("input",{name:"topLevelBlockLimit",type:"number",value:0===this.state.topLevelBlockLimit?0:this.state.topLevelBlockLimit,onChange:this.onChangeInputOfTopLevelBlockLimit})),l.a.createElement(b,null,l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onSaveClick(t)}},"Save"),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onCancelClick(t)}},"Cancel"),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"bold")}},l.a.createElement(y.a,{icon:v.bold})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"italic")}},l.a.createElement(y.a,{icon:h.italic})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"underline")}},l.a.createElement(y.a,{icon:E.underline})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onMarkClick(t,"code")}},l.a.createElement(y.a,{icon:w.code})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"heading-one")}},l.a.createElement(y.a,{icon:B.arrowUp})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"heading-two")}},l.a.createElement(y.a,{icon:C.arrowDown})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"block-quote")}},l.a.createElement(y.a,{icon:D.quote})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"numbered-list")}},l.a.createElement(y.a,{icon:L.listOl})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onBlockClick(t,"bulleted-list")}},l.a.createElement(y.a,{icon:O.listUl})),l.a.createElement("button",{className:"button",onPointerDown:function(t){return e.onImageClick(t)}},l.a.createElement(y.a,{icon:N.image})),l.a.createElement("input",{className:"button",type:"file",onChange:function(t){return e.onFileSelect(t)}})),l.a.createElement(S.a,{spellCheck:!0,autoFocus:!0,tabIndex:-1,placeholder:"Enter text here...",plugins:z,schema:H,value:this.state.value,ref:this.ref,onChange:this.onChange,onKeyDown:this.onKeyDown,renderMark:this.renderMark,renderNode:this.renderNode}))}},{key:"componentDidMount",value:function(){}}]),t}(o.Component),G=(n(222),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement($,null))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(223);c.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[101,1,2]]]);
//# sourceMappingURL=main.eec6e137.chunk.js.map